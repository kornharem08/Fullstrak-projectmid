<% include ../partials/header %>

&nbsp;
<h3 class="text-center">Purchase by item</h3>

<div class="card mb-3" id="headertop">
    <div class="card-header">
        <i class="fas fa-table"></i>
        Report Table product</div>
    <div class="card-body">
        <table class="table" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th><b>ITEM NAME</b></th>
                    <th><b>QUANTITY PURCHASED</b></th>
                    <th><b>AMOUNT</b></th>
                </tr>
            </thead>
            <tbody>
                
                <% 
                var quantities = [] 
       var labels = [] 
       var price = []
    
       products.forEach(function(product) {
       quantities.push(product.quantity)
       labels.push("'" + product.title + "'")
       price.push(product.price) 
       
       { %>
                <tr>
                    <td scope="row">
                        <%= product.title %>
                        
                    </td>
                    <td>
                        <%= product.quantity %>
                   
                    </td>
                    <td>
                        <%= product.price %>
                       
                    </td>
                </tr>
                <% }); %>
                <% sum.forEach(function(sum) { %>
                <tr>
                    <td scope="row">Total</td>
                    <td id="quantity">
                        <%= sum.squantity %>
                    </td>
                    <td id="price">$
                        <%= sum.sprice %>
                    </td>
                </tr>
                <% }); %>
            </tbody>
        </table>
    </div>
</div>
<div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>


</div>

<script src="path/to/chartjs/dist/Chart.js"></script>
<h1> Quantities Product </h1>
            
                <canvas id="myChart" width="100" height="100"></canvas>
                
                <script>
                        var ctx = document.getElementById("myChart");
                        var myChart = new Chart(ctx, {
                            type: 'bar',
                            data: {
                                labels: [<%- labels %>],
                                datasets: [{
                                    label: ' quantities',
                                    data:[<%= quantities %>],
                                    backgroundColor: [
                                        
                                        
                                    ],
                                    borderColor: [
                                    
                                        
                                    ],
                                    borderWidth: 1
                                }]
                            },
                            options: {
                                scales: {
                                    yAxes: [{
                                        ticks: {
                                            beginAtZero:true
                                        }
                                    }]
                                }
                            }
                        });
                        </script>
                     
            </div>

<% include ../partials/footer %>